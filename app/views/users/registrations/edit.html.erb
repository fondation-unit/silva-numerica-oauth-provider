<div class="d-flex justify-content-center">
  <div class="col">

    <ul class="nav nav-underline mb-5">
      <li class="nav-item">
        <%= link_to t(:profile).capitalize, profile_path, class: "nav-link" %>
      </li>
      <li class="nav-item">
        <%= link_to t(:edit_user).capitalize, edit_user_registration_path, class: "nav-link active" %>
      </li>
    </ul>

    <h2 class="mb-4"><%= t(:edit_user).capitalize %></h2>

    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
      <div class="row gx-5">
        <div class="col-12 col-lg-8">
          <div class="row">
            <div class="col-12">
              <%= render "users/shared/error_messages", resource: resource %>
            </div>

            <div class="col-12 my-2">
              <%= f.label t(:firstname), class: "form-label" %>
              <%= f.text_field :firstname, class: "form-control", autocomplete: "firstname" %>
            </div>

            <div class="col-12 my-2">
              <%= f.label t(:lastname), class: "form-label" %>
              <%= f.text_field :lastname, class: "form-control", autocomplete: "lastname" %>
            </div>

            <div class="col-12 my-2">
              <%= f.label :email, class: "form-label" %>
              <%= f.email_field :email, class: "form-control", autofocus: true, autocomplete: "email" %>
            </div>

            <div class="col-12 my-2">
              <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                <div><%= t(:currently_waiting_for_confirmation).capitalize %> : <%= resource.unconfirmed_email %></div>
              <% end %>
            </div>

            <div class="col-12 my-2">
              <%= f.label t(:current_password).capitalize, class: "form-label" %>
              <%= f.password_field :current_password, class: "form-control", autocomplete: "current-password" %>
              <small class="form-text text-muted">(<%= t(:current_password_needed) %>)</small>
            </div>

            <div class="accordion my-4" id="accordionFlushExample">
              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                    <%= t(:change_password).capitalize %>
                  </button>
                </h2>
                <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                  <div class="accordion-body">
                    <div class="form-group">
                      <%= f.label t(:password) %> <i>(<%= t(:leave_blank_if_you_dont_want_to_change_it) %>)</i>
                      <%= f.password_field :password, class: "form-control", autocomplete: "new-password" %>
                      <% if @minimum_password_length %>
                        <small class="form-text text-muted"><%= @minimum_password_length %> <%= t(:characters_minimum) %></small>
                      <% end %>
                    </div>

                    <div class="form-group my-3">
                      <%= f.label t(:password_confirmation) %>
                      <%= f.password_field :password_confirmation, class: "form-control", autocomplete: "new-password" %>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <p class="mt-4">
              <%= f.submit t(:update).capitalize, class: "btn btn-primary text-white text-uppercase" %>
            </p>
          </div>
        </div>

        <div class="col-12 col-lg-4">
          <p class="my-2"><%= t(:cancel_my_account).capitalize %> :</p>
          <p><%= link_to t(:cancel_my_account).capitalize, cancel_account_path(resource_name), class: "btn btn-outline-danger text-uppercase" %></p>
        </div>
      </div>
    <% end %>

    <%= link_to t(:back).capitalize, :back %>
  </div>
</div>
